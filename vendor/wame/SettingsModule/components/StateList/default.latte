{form stateListForm}
	<div n:if="$form->getErrors()" n:foreach="$form->getErrors() as $error" class="alert alert-danger">{$error}</div>

	<div class="panel panel-default">
		<div class="panel-heading">
			{_'States'}
			
			<a n:if="count($states) > 0" class="btn btn-success btn-xs pull-right" href="{plink :Admin:State:create, 'id' => null}">
				<span class="fa fa-plus"></span>
				{_'Add state'}
			</a>
		</div>

		<div n:if="count($states) == 0" class="panel-body text-center">
			<div class="lead text-muted">{_'Not created any states.'}</div>

			<a class="btn btn-success" href="{plink :Admin:State:create, 'id' => null}">
				<span class="fa fa-plus"></span>
				{_'Create first state'}
			</a>
		</div>
		
		{if count($states) > 0}
			<table class="table table-striped">
				<tbody>
					<tr n:foreach="$states as $state">
						<td class="vertical-middle">
							<input n:name="status_{$state->id}">
						</td>

						<td>
							<strong>{$state->code|upper}</strong>
						</td>

						<td>
							{$state->iso|upper}
						</td>

						<td>
							{$state->langs[$lang]->title}
						</td>

						<td>
							{$state->continent->langs[$lang]->title}
						</td>

						<td>
							{$state->phonePrefix}
						</td>

						<td>
							{$state->tld}
						</td>

						<td>
							{$state->currency->code|upper}
						</td>

						<td class="text-right">
							<a class="btn btn-warning btn-sm" href="{plink :Admin:State:edit, 'id' => $state->id}">
								<span class="fa fa-edit"></span>
							</a>
							<a class="btn btn-danger btn-sm" href="{plink :Admin:State:delete, 'id' => $state->id}">
								<span class="fa fa-trash-o"></span>
							</a>
						</td>
					</tr>
				</tbody>
			</table>

			<div class="panel-footer">
				<button class="btn btn-success" n:name="submit">{_'Save'}</button>
			</div>
		{/if}
	</div>
{/form}